{% extends 'shop/base.html' %}
{% load static %}

{% block title %}Home{% endblock %}

{% block content %}

<!-- ✅ HERO SECTION -->
<section class="hero d-flex align-items-center justify-content-center text-center"
  style="background-image: url('{% static "images/hero-bg.jpg" %}');
         background-size: cover;
         background-position: center;
         background-repeat: no-repeat;">

  <div class="hero-overlay"></div>

  <div class="hero-content animate">
      <h1 class="display-3 fw-bold text-white animate-delay-1">Step Into Style</h1>
      <p class="lead text-white-50 animate-delay-2">
          Discover the latest sneakers, boots, and casuals — all in one place.
      </p>
      <a href="#products" class="btn btn-light btn-lg mt-3 animate-delay-3">Shop Now</a>
  </div>
</section>



<!-- ✅ FEATURED PRODUCTS -->
<section id="products" class="products py-5">
  <div class="container">

    <h2 class="section-title text-center mb-3 fade-in">Featured Products</h2>

    <div class="row g-4">

      {% for product in products %}
        {% with delay=forloop.counter0|add:1 %}

          <div class="col-md-4 col-lg-3">
            <div class="card product-card h-100 fade-in" style="animation-delay:0.{{ delay }}s;">

              <!-- ✅ PRODUCT IMAGE -->
              <div class="card-img-wrapper">
                {% if product.image %}
                  <img src="{{ product.image.url }}"
                       class="card-img-top"
                       alt="{{ product.name }}"
                       loading="lazy">
                {% else %}
                  <div class="placeholder-img bg-light d-flex align-items-center justify-content-center">
                    <span class="text-muted">No image available</span>
                  </div>
                {% endif %}
              </div>

              <!-- ✅ PRODUCT INFO -->
              <div class="card-body d-flex flex-column">
                <h3 class="card-title h5 mb-3">{{ product.name }}</h3>
                <p class="price mb-3">₹{{ product.price }}</p>

                <div class="mt-auto d-grid gap-2">

                  <!-- ✅ ADD TO CART BUTTON -->
                  <button class="btn btn-primary add-cart"
                    data-id="{{ product.id }}"
                    data-name="{{ product.name }}"
                    data-price="{{ product.price }}"
                    data-image="{{ product.image.url }}">
                    Add to Cart
                  </button>

                  <!-- ✅ VIEW DETAILS -->
                  <a href="{% url 'shop:product_detail' product.id %}"
                     class="btn btn-outline-secondary">
                    View Details
                  </a>

                </div>
              </div>

            </div>
          </div>

        {% endwith %}
      {% empty %}
        <div class="col-12 text-center">
          <p class="lead text-muted">No products available right now.</p>
        </div>
      {% endfor %}

    </div>
  </div>
</section>

{% endblock %}
